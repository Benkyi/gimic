#!/bin/sh

snykov() {
BLASDIR=/opt/intel/cmkl/9.1.023/lib/64
INSTDIR=$HOME/gimic
case $* in 
	--mpi) 
	MPIFC=scampif90 ./configure --prefix=${INSTDIR} --with-blas-dir=$BLASDIR \
	--with-aces2=$HOME/aces2/lib --enable-mpi=scali
	;;
	*)
	./configure --prefix=${INSTDIR} --with-aces2=$HOME/aces2/lib \
	--with-blas-dir=$BLASDIR
	;;
esac
}

stallo() {
INSTDIR=$HOME/gimic
case $* in 
	--mpi) 
	FC=ifort ./configure --prefix=${INSTDIR} \
	--enable-mpi=openmpi --with-aces2=$HOME/aces2/lib
	;;
	*)
	FC=ifort ./configure --prefix=${INSTDIR} --with-aces2=$HOME/aces2/lib
	;;
esac
}

snowflake() {
BLASDIR=/opt/lib
INSTDIR=/opt/aces2
case $* in
	--mpi) 
	./configure --prefix=${INSTDIR}.par --enable-mpi=openmpi
	;;
	*)
	./configure --prefix=${INSTDIR} --with-blas-dir=$BLASDIR \
	--with-fc-search-path=/opt/flibs \
	--with-aces2=$HOME/software/mainz/aces2/lib
	;;
esac
}

case `hostname` in 
	compute-0-6.*) snykov $* ;;
	stallo-*) stallo $* ;;
	snowflake*) snowflake $* ;;
	*) echo "unknown machine..."; exit 0 ;;
esac

